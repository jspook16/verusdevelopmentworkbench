# Verus RPC Command: verifytxoutproof

## Purpose
The `verifytxoutproof` command verifies that a proof points to a transaction in a block, returning the transaction it commits to and throwing an RPC error if the block is not in the best chain. This command is valuable for lightweight verification of transactions without needing the entire blockchain.

## Description
When provided with a cryptographic proof (generated by `gettxoutproof`), this command verifies the proof and returns the transaction ID(s) that the proof commits to. If the proof is invalid or if the block containing the transaction is not in the best chain, the command will return an error. This enables SPV (Simplified Payment Verification) functionality.

**Command Type**: Query/Read-only  
**Protocol Level**: Blockchain  
**Access Requirement**: No special requirements

## Arguments
The command accepts one required argument:

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| proof | string | Yes | N/A | The hex-encoded proof generated by gettxoutproof |

## Results
The command returns an array of strings representing the transaction IDs which the proof commits to. If the proof is invalid, an empty array is returned.

**Return Type**: Array of strings

## Examples

### Example 1: Verify a transaction proof

**Command:**
```
verus verifytxoutproof "0200000001f5677b6125faf78d1401c53de774d19c2fca1511a70e0a2b71fe1429dd645bfd8e65cb8536e3622f0b77520305800700ea5845c7323f5741d19da12497590b3752af12a8b5e3217342759a3f2fc42d9c21050ec51ed124c3a27ddcae381b8f6400000001db92010000000000000000000000000000000000000000000000000000000000000000a26fc7fd1cc00382f38e4a9a9d315402f586be2db89da0dd775a0af32cee129ded6fe54860c34510363ebb9aa11db025e1e9c8ee1c5ca1a03aba0a4548b1e3f436fc85ccc7ed8abdb79a5964dd9e731c03f9d39cb66d5e92b0ae4e77f9ce3b10"
```

**Sample Output:**
```json
[
  "a123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"
]
```

### Example 2: Using JSON-RPC via curl

**Command:**
```
curl --user myusername --data-binary '{"jsonrpc": "1.0", "id":"curltest", "method": "verifytxoutproof", "params": ["0200000001f5677b6125faf78d1401c53de774d19c2fca1511a70e0a2b71fe1429dd645bfd8e65cb8536e3622f0b77520305800700ea5845c7323f5741d19da12497590b3752af12a8b5e3217342759a3f2fc42d9c21050ec51ed124c3a27ddcae381b8f6400000001db92010000000000000000000000000000000000000000000000000000000000000000a26fc7fd1cc00382f38e4a9a9d315402f586be2db89da0dd775a0af32cee129ded6fe54860c34510363ebb9aa11db025e1e9c8ee1c5ca1a03aba0a4548b1e3f436fc85ccc7ed8abdb79a5964dd9e731c03f9d39cb66d5e92b0ae4e77f9ce3b10"] }' -H 'content-type: text/plain;' http://127.0.0.1:27486/
```

**Expected Format:**
```json
{
  "result": [
    "a123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"
  ],
  "error": null,
  "id": "curltest"
}
```

## Potential Error Cases

1. **Potential Error - Invalid Proof Format:**
   ```
   error code: -8
   error message:
   Expected hex data (proof)
   ```

2. **Potential Error - Proof Verification Failed:**
   ```
   error code: -5
   error message:
   Proof verification failed
   ```

3. **Potential Error - Block Not in Main Chain:**
   ```
   error code: -5
   error message:
   Block not in main chain
   ```

4. **Potential Error - Authentication Failure:**
   ```
   error code: -1
   error message:
   Incorrect username or password
   ```

## Related Commands
- `gettxoutproof`: Returns a hex-encoded proof that a transaction was included in a block
- `getblock`: Returns detailed information about a block
- `getrawtransaction`: Returns raw transaction data
- `gettxout`: Returns details about an unspent transaction output
